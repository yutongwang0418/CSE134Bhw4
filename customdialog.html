<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <script src="dist/purify.js"></script>
        <title> Part 2 </title>
    </head>

    <body>
        <div id="p1">Hello world</div>

        <button id="btn1">Alert</button>
        <button id="btn2">Confirm</button>
        <button id="btn3">Prompt</button>
        <button id="btn4">Safer Prompt</button>

        <script>
            function clickBtm() {
                let b1 = document.getElementById("btn1");
                b1.addEventListener("click", () => alert("You are starting to enter your name"));

                let b2 = document.getElementById("btn2");
                b2.addEventListener("click", myConfirm);

                let b3 = document.getElementById("btn3");
                b3.addEventListener("click", myPrompt);
            }

            function myConfirm() {
                if (confirm("Are you sure?") ) {
                    let o1 = document.getElementById("out1");
                    o1.innerHTML = "confirm result: true"
                }
                else {
                    let o1 = document.getElementById("out1");
                    o1.innerHTML = "confirm result: false"
                }
            }

            function myPrompt() {
                let p1 = prompt("Please enter your name", "John Wang");
                if (p1 != null) {
                    document.getElementById("out1").innerHTML = "Your name is: " + p1;
                }
                else {
                    document.getElementById("out1").innerHTML = "User did not enter anything";
                }
            }

            clickBtm();
        </script>

        <script>
        
            function clickBtm() {
                let b4 = document.getElementById("btn4");
                b4.addEventListener("click", mySafer);
            }

            function mySafer() {
                const p2 = prompt("Please enter your name", "John Wang");
                if (p2 == null) {
                    document.getElementById("out1").innerHTML = "User did not enter anything";
                }
                else {
                    let clean2 = DOMPurify.sanitize(p2);
                    document.getElementById("out1").innerHTML = `Your name is: ${clean2}`;
                }
            }

            clickBtm();
        </script>

        <br>

        <output id="out1"></output>
    </body>
</html>